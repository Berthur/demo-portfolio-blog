<!doctype html>
<html>
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>Jon Galan | Traffic Simulator</title>
        <link rel="icon" type="image/png" href="../resources/favicon.png" />
        <link rel="stylesheet" href="../style.css">
    </head>
    <body>
        <div id="pageContainer">
            <div id="banner">
                <div><div id="sidebarButton" class="button"><span class="bi bi-list"></span></div></div>
                <div><a href="../">Jon Galán</a></div>
                <div></div>
            </div>

            <div id="sidebarOverlay">
                <div id="sidebar">
                    <a href="../">Home</a>
                    <a href="../demos">Portfolio</a>
                    <a href="../blog">Dev Blog</a>
                    <a href="../contact.html">Contact</a>
                </div>
            </div>

            <div id="demoContainer"></div>
            <div class="demoLinkBar">
                <a href="../blog/traffic.html">
                    <span class="bi bi-book"></span> Blog entry
                </a>
                <a href="https://github.com/Berthur/demo-portfolio-blog/blob/main/src/demos/trafficDemo.ts">
                    <span class="bi bi-github"></span> Source code
                </a>
            </div>

            <div class="demoText">
                <h1>Traffic Simulator</h1>

                <p>A scalable traffic simulator where both simulation and rendering runs in WebGL. It shows cars on a downtown city grid, following simple right-hand traffic rules.</p>

                <p>Cars drive at different preferred speeds, while avoiding collisions by observing the car in front of them. At intersections, drivers give way to cars coming from the right, and also perform emergency braking when necessary by observing cars in or about to enter their path. In addition, there is a simple deadlock solution that prevents cars from getting stuck indefinitely when a four-way deadlock occurs at a crossroads.</p>

                <p>You can move the camera around by rotating (left mouse drag), panning (right mouse drag) and zooming (mouse wheel). On touch screens, drag and pinch gestures are at your disposal. To see how the traffic simulation scales, you can increase the car count and grid size in the demo settings. When increasing the car count, make sure to also scale the grid size accordingly or the cars will just be stuck in an eternal traffic jam.</p>

                <p>Blog post: <a href="../blog/traffic.html">How this demo was implemented</a>.</p>
            </div>

            <div id="footer"><div></div><div>Copyright Jon Galán 2025</div></div>
        </div>

        <script type="module" src="../scripts.js"></script>
        <script type="module" src="../main-bundle.js"></script>
        <script type="module">
            const app = new App();
            const container = document.getElementById('demoContainer');
            const demo = new app.demos.traffic(container);
            demo.start();
        </script>
    </body>
</html>
